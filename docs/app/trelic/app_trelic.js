"use strict";var Vn=(()=>{var Ie=import.meta.url;return async function(_e={}){var Le,i=_e,Re,X,ft=new Promise((e,t)=>{Re=e,X=t}),Me=typeof window=="object",j=typeof WorkerGlobalScope<"u",W=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer",Pe=!Me&&!W&&!j;if(W){const{createRequire:e}=await import("module");var Z=e(import.meta.url)}var Ne={...i},pe=[],ve="./this.program",ge=(e,t)=>{throw t},A="";function mt(e){return i.locateFile?i.locateFile(e,A):A+e}var ye,Q;if(W){if(typeof process>"u"||!process.release||process.release.name!=="node")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");var De=process.versions.node,B=De.split(".").slice(0,3);B=B[0]*1e4+B[1]*100+B[2].split("-")[0]*1;var qn=16e4;if(B<16e4)throw new Error("This emscripten-generated code requires node v16.0.0 (detected v"+De+")");var Oe=Z("fs"),_t=Z("path");import.meta.url.startsWith("data:")||(A=_t.dirname(Z("url").fileURLToPath(import.meta.url))+"/"),Q=e=>{e=H(e)?new URL(e):e;var t=Oe.readFileSync(e);return f(Buffer.isBuffer(t)),t},ye=async(e,t=!0)=>{e=H(e)?new URL(e):e;var n=Oe.readFileSync(e,t?void 0:"utf8");return f(t?Buffer.isBuffer(n):typeof n=="string"),n},!i.thisProgram&&process.argv.length>1&&(ve=process.argv[1].replace(/\\/g,"/")),pe=process.argv.slice(2),ge=(e,t)=>{throw process.exitCode=e,t}}else if(Pe){if(typeof process=="object"&&typeof Z=="function"||typeof window=="object"||typeof WorkerGlobalScope<"u")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)")}else if(Me||j){if(j?A=self.location.href:typeof document<"u"&&document.currentScript&&(A=document.currentScript.src),Ie&&(A=Ie),A.startsWith("blob:")?A="":A=A.slice(0,A.replace(/[?#].*/,"").lastIndexOf("/")+1),!(typeof window=="object"||typeof WorkerGlobalScope<"u"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");j&&(Q=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),ye=async e=>{if(H(e))return new Promise((n,r)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{if(o.status==200||o.status==0&&o.response){n(o.response);return}r(o.status)},o.onerror=r,o.send(null)});var t=await fetch(e,{credentials:"same-origin"});if(t.ok)return t.arrayBuffer();throw new Error(t.status+" : "+t.url)}}else throw new Error("environment detection error");var ee=i.print||console.log.bind(console),y=i.printErr||console.error.bind(console);Object.assign(i,Ne),Ne=null,In(),i.arguments&&(pe=i.arguments),M("arguments","arguments_"),i.thisProgram&&(ve=i.thisProgram),M("thisProgram","thisProgram"),f(typeof i.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),f(typeof i.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),f(typeof i.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),f(typeof i.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),f(typeof i.read>"u","Module.read option was removed"),f(typeof i.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),f(typeof i.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),f(typeof i.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),f(typeof i.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),M("asm","wasmExports"),M("readAsync","readAsync"),M("readBinary","readBinary"),M("setWindowTitle","setWindowTitle");var Kn="IDBFS is no longer included by default; build with -lidbfs.js",Jn="PROXYFS is no longer included by default; build with -lproxyfs.js",Xn="WORKERFS is no longer included by default; build with -lworkerfs.js",Zn="FETCHFS is no longer included by default; build with -lfetchfs.js",Qn="ICASEFS is no longer included by default; build with -licasefs.js",er="JSFILEFS is no longer included by default; build with -ljsfilefs.js",tr="OPFS is no longer included by default; build with -lopfs.js",nr="NODEFS is no longer included by default; build with -lnodefs.js";f(!Pe,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var te=i.wasmBinary;M("wasmBinary","wasmBinary"),typeof WebAssembly!="object"&&y("no native wasm support detected");var $,C=!1,ne;function f(e,t){e||E("Assertion failed"+(t?": "+t:""))}var rr,L,x,he,pt,D,w,we,re,vt,ae,be=!1,H=e=>e.startsWith("file://");function gt(){var e=ot();f((e&3)==0),e==0&&(e+=4),w[e>>2]=34821223,w[e+4>>2]=2310721022,w[0]=1668509029}function O(){if(!C){var e=ot();e==0&&(e+=4);var t=w[e>>2],n=w[e+4>>2];(t!=34821223||n!=2310721022)&&E(`Stack overflow! Stack cookie has been overwritten at ${Y(e)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Y(n)} ${Y(t)}`),w[0]!=1668509029&&E("Runtime error: The application has corrupted its heap memory area (address zero)!")}}if((()=>{var e=new Int16Array(1),t=new Int8Array(e.buffer);if(e[0]=25459,t[0]!==115||t[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)"})(),i.ENVIRONMENT)throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");function M(e,t,n=!0){Object.getOwnPropertyDescriptor(i,e)||Object.defineProperty(i,e,{configurable:!0,get(){let r=n?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";E(`\`Module.${e}\` has been replaced by \`${t}\``+r)}})}function ie(e){Object.getOwnPropertyDescriptor(i,e)||Object.defineProperty(i,e,{configurable:!0,set(){E(`Attempt to set \`Module.${e}\` after it has already been processed.  This can happen, for example, when code is injected via '--post-js' rather than '--pre-js'`)}})}function yt(e){Object.getOwnPropertyDescriptor(i,e)&&E(`\`Module.${e}\` was supplied but \`${e}\` not included in INCOMING_MODULE_JS_API`)}function Ue(e){return e==="FS_createPath"||e==="FS_createDataFile"||e==="FS_createPreloadedFile"||e==="FS_unlink"||e==="addRunDependency"||e==="FS_createLazyFile"||e==="FS_createDevice"||e==="removeRunDependency"}function je(e,t){typeof globalThis<"u"&&!Object.getOwnPropertyDescriptor(globalThis,e)&&Object.defineProperty(globalThis,e,{configurable:!0,get(){t()}})}function We(e,t){je(e,()=>{R(`\`${e}\` is not longer defined by emscripten. ${t}`)})}We("buffer","Please use HEAP8.buffer or wasmMemory.buffer"),We("asm","Please use wasmExports instead");function ht(e){je(e,()=>{var t=`\`${e}\` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line`,n=e;n.startsWith("_")||(n="$"+e),t+=` (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='${n}')`,Ue(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),R(t)}),Be(e)}function Be(e){Object.getOwnPropertyDescriptor(i,e)||Object.defineProperty(i,e,{configurable:!0,get(){var t=`'${e}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;Ue(e)&&(t+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),E(t)}})}var $e=!0;function ar(...e){!$e&&typeof $e<"u"||console.warn(...e)}function He(){var e=$.buffer;i.HEAP8=L=new Int8Array(e),i.HEAP16=he=new Int16Array(e),i.HEAPU8=x=new Uint8Array(e),i.HEAPU16=pt=new Uint16Array(e),i.HEAP32=D=new Int32Array(e),i.HEAPU32=w=new Uint32Array(e),i.HEAPF32=we=new Float32Array(e),i.HEAPF64=ae=new Float64Array(e),i.HEAP64=re=new BigInt64Array(e),i.HEAPU64=vt=new BigUint64Array(e)}f(!i.STACK_SIZE,"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),f(typeof Int32Array<"u"&&typeof Float64Array<"u"&&Int32Array.prototype.subarray!=null&&Int32Array.prototype.set!=null,"JS engine does not provide full typed array support"),f(!i.wasmMemory,"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),f(!i.INITIAL_MEMORY,"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");function wt(){if(i.preRun)for(typeof i.preRun=="function"&&(i.preRun=[i.preRun]);i.preRun.length;)Pt(i.preRun.shift());ie("preRun"),ze(oe)}function bt(){f(!be),be=!0,O(),S.__wasm_call_ctors()}function Et(){O()}function kt(){if(O(),i.postRun)for(typeof i.postRun=="function"&&(i.postRun=[i.postRun]);i.postRun.length;)Mt(i.postRun.shift());ie("postRun"),ze(Ye)}var P=0,G=null,U={},N=null;function ir(e){for(var t=e;;){if(!U[e])return e;e=t+Math.random()}}function St(e){P++,i.monitorRunDependencies?.(P),e?(f(!U[e]),U[e]=1,N===null&&typeof setInterval<"u"&&(N=setInterval(()=>{if(C){clearInterval(N),N=null;return}var t=!1;for(var n in U)t||(t=!0,y("still waiting on run dependencies:")),y(`dependency: ${n}`);t&&y("(end of list)")},1e4))):y("warning: run dependency added without ID")}function Ft(e){if(P--,i.monitorRunDependencies?.(P),e?(f(U[e]),delete U[e]):y("warning: run dependency removed without ID"),P==0&&(N!==null&&(clearInterval(N),N=null),G)){var t=G;G=null,t()}}function E(e){i.onAbort?.(e),e="Aborted("+e+")",y(e),C=!0,e.indexOf("RuntimeError: unreachable")>=0&&(e+='. "unreachable" may be due to ASYNCIFY_STACK_SIZE not being large enough (try increasing it)');var t=new WebAssembly.RuntimeError(e);throw X(t),t}var I={error(){E("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM")},init(){I.error()},createDataFile(){I.error()},createPreloadedFile(){I.error()},createLazyFile(){I.error()},open(){I.error()},mkdev(){I.error()},registerDevice(){I.error()},analyzePath(){I.error()},ErrnoError(){I.error()}};i.FS_createDataFile=I.createDataFile,i.FS_createPreloadedFile=I.createPreloadedFile;function p(e,t){return(...n)=>{f(be,`native function \`${e}\` called before runtime initialization`);var r=S[e];return f(r,`exported native function \`${e}\` not found`),f(n.length<=t,`native function \`${e}\` called with ${n.length} args but expects ${t}`),r(...n)}}var z;function Tt(){return i.locateFile?mt("app_trelic.wasm"):new URL("app_trelic.wasm",import.meta.url).href}function At(e){if(e==z&&te)return new Uint8Array(te);if(Q)return Q(e);throw"both async and sync fetching of the wasm failed"}async function Ct(e){if(!te)try{var t=await ye(e);return new Uint8Array(t)}catch{}return At(e)}async function xt(e,t){try{var n=await Ct(e),r=await WebAssembly.instantiate(n,t);return r}catch(o){y(`failed to asynchronously prepare wasm: ${o}`),H(z)&&y(`warning: Loading from a file URI (${z}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),E(o)}}async function It(e,t,n){if(!e&&typeof WebAssembly.instantiateStreaming=="function"&&!H(t)&&!W)try{var r=fetch(t,{credentials:"same-origin"}),o=await WebAssembly.instantiateStreaming(r,n);return o}catch(s){y(`wasm streaming compile failed: ${s}`),y("falling back to ArrayBuffer instantiation")}return xt(t,n)}function Lt(){return u.instrumentWasmImports(Ae),{env:Ae,wasi_snapshot_preview1:Ae}}async function Rt(){function e(l,d){return S=l.exports,S=u.instrumentWasmExports(S),$=S.memory,f($,"memory not found in wasm exports"),He(),Ft("wasm-instantiate"),S}St("wasm-instantiate");var t=i;function n(l){return f(i===t,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),t=null,e(l.instance)}var r=Lt();if(i.instantiateWasm)return new Promise((l,d)=>{try{i.instantiateWasm(r,(m,v)=>{e(m,v),l(m.exports)})}catch(m){y(`Module.instantiateWasm callback failed with error: ${m}`),d(m)}});z??=Tt();try{var o=await It(te,z,r),s=n(o);return s}catch(l){return X(l),Promise.reject(l)}}class Ge{name="ExitStatus";constructor(t){this.message=`Program terminated with exit(${t})`,this.status=t}}var ze=e=>{for(;e.length>0;)e.shift()(i)},Ye=[],Mt=e=>Ye.unshift(e),oe=[],Pt=e=>oe.unshift(e);function or(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":return L[e];case"i8":return L[e];case"i16":return he[e>>1];case"i32":return D[e>>2];case"i64":return re[e>>3];case"float":return we[e>>2];case"double":return ae[e>>3];case"*":return w[e>>2];default:E(`invalid type for getValue: ${t}`)}}var Nt=i.noExitRuntime||!0,Y=e=>(f(typeof e=="number"),e>>>=0,"0x"+e.toString(16).padStart(8,"0"));function sr(e,t,n="i8"){switch(n.endsWith("*")&&(n="*"),n){case"i1":L[e]=t;break;case"i8":L[e]=t;break;case"i16":he[e>>1]=t;break;case"i32":D[e>>2]=t;break;case"i64":re[e>>3]=BigInt(t);break;case"float":we[e>>2]=t;break;case"double":ae[e>>3]=t;break;case"*":w[e>>2]=t;break;default:E(`invalid type for setValue: ${n}`)}}var Dt=e=>Pn(e),Ot=()=>st(),R=e=>{R.shown||={},R.shown[e]||(R.shown[e]=1,W&&(e="warning: "+e),y(e))},Ve=typeof TextDecoder<"u"?new TextDecoder:void 0,qe=(e,t=0,n=NaN)=>{for(var r=t+n,o=t;e[o]&&!(o>=r);)++o;if(o-t>16&&e.buffer&&Ve)return Ve.decode(e.subarray(t,o));for(var s="";t<o;){var l=e[t++];if(!(l&128)){s+=String.fromCharCode(l);continue}var d=e[t++]&63;if((l&224)==192){s+=String.fromCharCode((l&31)<<6|d);continue}var m=e[t++]&63;if((l&240)==224?l=(l&15)<<12|d<<6|m:((l&248)!=240&&R("Invalid UTF-8 leading byte "+Y(l)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),l=(l&7)<<18|d<<12|m<<6|e[t++]&63),l<65536)s+=String.fromCharCode(l);else{var v=l-65536;s+=String.fromCharCode(55296|v>>10,56320|v&1023)}}return s},b=(e,t)=>(f(typeof e=="number",`UTF8ToString expects a number (got ${typeof e})`),e?qe(x,e,t):""),Ut=(e,t,n,r)=>E(`Assertion failed: ${b(e)}, at: `+[t?b(t):"unknown filename",n,r?b(r):"unknown function"]);class jt{constructor(t){this.excPtr=t,this.ptr=t-24}set_type(t){w[this.ptr+4>>2]=t}get_type(){return w[this.ptr+4>>2]}set_destructor(t){w[this.ptr+8>>2]=t}get_destructor(){return w[this.ptr+8>>2]}set_caught(t){t=t?1:0,L[this.ptr+12]=t}get_caught(){return L[this.ptr+12]!=0}set_rethrown(t){t=t?1:0,L[this.ptr+13]=t}get_rethrown(){return L[this.ptr+13]!=0}init(t,n){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(n)}set_adjusted_ptr(t){w[this.ptr+16>>2]=t}get_adjusted_ptr(){return w[this.ptr+16>>2]}}var Wt=0,Bt=0,$t=(e,t,n)=>{var r=new jt(e);r.init(t,n),Wt=e,Bt++,f(!1,"Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.")},Ht=()=>E("native code called abort()"),a={cstring:function(e){const t=q(e)+1,n=de(t);return ce(e,n,t),n},main_canvas_unique:"",main_canvas:void 0,e_onbeforeunload:void 0,cb_canvas_state:void 0,cur_imm:!1,e_onresize:function(){const e=a.main_canvas,t=document.fullscreenElement!=null;a.cur_imm!=t&&(a.cur_imm=t,a.cb_canvas_state&&a.cb_canvas_state(2,t?1:0,0)),(e.width!=e.clientWidth||e.height!=e.clientHeight)&&(e.width=e.clientWidth,e.height=e.clientHeight,a.cb_canvas_state&&a.cb_canvas_state(1,e.width,e.height))},e_onfocus:function(){a.cb_canvas_state&&a.cb_canvas_state(3,1,0)},e_onblur:function(){a.cb_canvas_state&&a.cb_canvas_state(3,0,0)},clip_get:{state:0,text:""},decode__key_modifier:function(e){var t=0;return e.shiftKey&&(t+=1),e.ctrlKey&&(t+=2),e.altKey&&(t+=4),e.metaKey&&(t+=8),t},decode__key_keyboard:e=>{if(e.code.length>=7&&e.code.substring(0,6)=="Numpad"){if(e.code.length==7)return 320+parseInt(e.code.substring(6));switch(e.code){case"NumpadDecimal":return 330;case"NumpadDivide":return 331;case"NumpadMultiply":return 332;case"NumpadSubtract":return 333;case"NumpadAdd":return 334;case"NumpadEnter":return 335}}if(e.key.length==1){var t=e.key.charCodeAt(0);return t>=97&&t<=122&&(t+=-32),t}if(e.key.length<=3&&e.key.substring(0,1)=="F")return 289+parseInt(e.key.substring(1));switch(e.code){case"Escape":return 256;case"Enter":return 257;case"Tab":return 258;case"Backspace":return 259;case"Insert":return 260;case"Delete":return 261;case"ArrowRight":return 262;case"ArrowLeft":return 263;case"ArrowDown":return 264;case"ArrowUp":return 265;case"PageUp":return 266;case"PageDown":return 267;case"Home":return 268;case"End":return 269;case"CapsLock":return 280;case"NumLock":return 282;case"ShiftLeft":return 340;case"ControlLeft":return 341;case"AltLeft":return 342;case"MetaLeft":return 343;case"ShiftRight":return 344;case"ControlRight":return 345;case"AltRight":return 346;case"MetaRight":return 347;case"ContextMenu":return 348}return-1},kb_cb_key:void 0,kb_cb_char:void 0,kb_onkeydown:function(e){a.kb_cb_key(a.decode__key_keyboard(e),1,a.decode__key_modifier(e))},kb_onkeyup:function(e){a.kb_cb_key(a.decode__key_keyboard(e),0,a.decode__key_modifier(e))},kb_onkeypress:function(e){a.kb_cb_char(e.key.charCodeAt(0))},m_captured:!1,m_cb_capture:void 0,m_cb_update:void 0,m_cb_key:void 0,m_cb_wheel:void 0,m_onmousemove:function(e){a.m_captured?a.m_cb_update(e.movementX,e.movementY):a.m_cb_update(e.offsetX,e.offsetY)},m_onmousecapture:function(){const e=document.pointerLockElement!=null;a.m_captured!=e&&(a.m_captured=e,a.m_cb_capture(e?1:0))},m_onmousedown:function(e){a.m_cb_key(e.button,1,a.decode__key_modifier(e))},m_onmouseup:function(e){a.m_cb_key(e.button,0,a.decode__key_modifier(e))},m_onmousewheel:function(e){a.m_cb_wheel(e.deltaX,e.deltaY)},t_cb_touch:void 0,t_ids:void 0,t_xys:void 0,t_ontouch:function(e){const t=Array.from(e.touches),n=a.main_canvas.offsetLeft,r=a.main_canvas.offsetTop;t.forEach((o,s)=>{a.t_ids[s]=o.identifier,a.t_xys[s*2]=o.clientX-n,a.t_xys[s*2+1]=o.clientY-r}),a.t_cb_touch(t.length),e.preventDefault()},j_list:[],j_cb_add:void 0,j_cb_rem:void 0,j_interval:0,j_onchange:function(){if(navigator.getGamepads==null)return;let e=navigator.getGamepads();for(e==null&&(e=[]);e.length>a.j_list.length;)a.j_list.push(!1);for(let t=0;t<e.length;t++){let n=e[t];if(n){if(!a.j_list[t]){a.j_list[t]=!0;let r=at(n.id);a.j_cb_add(t,r,n.buttons.length,n.axes.length),K(r)}}else a.j_list[t]&&(a.j_list[t]=!1,a.j_cb_rem(t))}}},Gt=function(){switch(a.clip_get.state){case 0:if(navigator.clipboard)return a.clip_get.state=1,navigator.clipboard.readText().then(t=>{a.clip_get.text=t,a.clip_get.state=2},()=>{a.clip_get.state=3}),0;case 3:return 1;case 2:a.clip_get.state=0;const e=a.clip_get.text;return a.clip_get.text="",a.cstring(e)}return 0};function zt(){let e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e?1:0}function Yt(){const e=a.main_canvas.getAttribute("tabindex")?a.main_canvas:document;e.removeEventListener("keydown",a.kb_onkeydown),e.removeEventListener("keyup",a.kb_onkeyup),e.removeEventListener("keypress",a.kb_onkeypress);const t=a.main_canvas;t.removeEventListener("mousemove",a.m_onmousemove),document.removeEventListener("pointerlockchange",a.m_onmousecapture),t.removeEventListener("mousedown",a.m_onmousedown),t.removeEventListener("mouseup",a.m_onmouseup),t.removeEventListener("wheel",a.m_onmousewheel),t.removeEventListener("touchstart",a.t_ontouch),t.removeEventListener("touchmove",a.t_ontouch),t.removeEventListener("touchcancel",a.t_ontouch),t.removeEventListener("touchend",a.t_ontouch)}var Vt=function(e,t,n,r,o,s,l,d,m,v){a.kb_cb_key=(_,F,T)=>Ce(e,_,F,T),a.kb_cb_char=_=>fe(t,_);const h=a.main_canvas.getAttribute("tabindex")?a.main_canvas:document;h.addEventListener("keydown",a.kb_onkeydown),h.addEventListener("keyup",a.kb_onkeyup),h.addEventListener("keypress",a.kb_onkeypress),a.m_cb_capture=_=>fe(n,_),a.m_cb_update=(_,F)=>ut(r,_,F),a.m_cb_key=(_,F,T)=>Ce(o,_,F,T),a.m_cb_wheel=(_,F)=>ut(s,_,F);const g=a.main_canvas;g.addEventListener("mousemove",a.m_onmousemove),document.addEventListener("pointerlockchange",a.m_onmousecapture),g.addEventListener("mousedown",a.m_onmousedown),g.addEventListener("mouseup",a.m_onmouseup),g.addEventListener("wheel",a.m_onmousewheel),a.t_cb_touch=_=>fe(l,_);{const _=v;a.t_ids=new Int32Array(x.buffer,d,_),a.t_xys=new Float32Array(x.buffer,m,_)}g.addEventListener("touchstart",a.t_ontouch),g.addEventListener("touchmove",a.t_ontouch),g.addEventListener("touchcancel",a.t_ontouch),g.addEventListener("touchend",a.t_ontouch)};function qt(e){const t=a.main_canvas;e!=0?t.requestPointerLock():document.exitPointerLock()}function Kt(){window.removeEventListener("gamepadconnected",a.j_onchange),window.removeEventListener("gamepaddisconnected",a.j_onchange),clearInterval(a.j_interval)}var Jt=function(e,t){a.j_cb_add=(n,r,o,s)=>On(e,n,r,o,s),a.j_cb_rem=n=>fe(t,n),window.addEventListener("gamepadconnected",a.j_onchange),window.addEventListener("gamepaddisconnected",a.j_onchange),a.j_onchange(),a.j_interval=setInterval(a.j_onchange,1e3)};function Xt(e,t,n){const r=navigator.getGamepads()[e];if(r==null)return;const o=new Uint32Array(x.buffer,t),s=new Float32Array(x.buffer,n);let l=0;for(let d=0;d<r.buttons.length;d++){let m=0,v=1,h=d+32;for(h>r.buttons.length&&(h=r.buttons.length);d<h;d++)r.buttons[d].pressed&&(m+=v),v*=2;o[l]=m,l++}for(let d=0;d<r.axes.length;d++)s[d]=r.axes[d]}function Zt(){a.main_canvas.classList.remove(a.main_canvas_unique),a.e_onbeforeunload!==void 0&&(window.removeEventListener("onbeforeunload",a.e_onbeforeunload),a.e_onbeforeunload=void 0),window.removeEventListener("resize",a.e_onresize),document.removeEventListener("fullscreenchange",a.e_onresize),window.removeEventListener("focus",a.e_onfocus),window.removeEventListener("blur",a.e_onblur)}function Qt(e){let t=a.main_canvas;const n=a.main_canvas.parentElement;n&&n.className.indexOf("canvas_container")>0&&(t=n);const r=e!=0,o=document.fullscreenElement!=null;r!=o&&(r?t.requestFullscreen():document.exitFullscreen())}function en(e,t,n){let r=[];if(t!=0){const l=b(t);typeof l=="string"&&l.length>1&&r.push(l)}if(r.push("canvas#view","canvas#gl","canvas"),r.find(l=>(a.main_canvas=document.body.querySelector(l),a.main_canvas!=null)),a.main_canvas==null)return console.error("NO CANVAS FOUND"),0;a.e_onbeforeunload=()=>lt(e),window.addEventListener("onbeforeunload",a.e_onbeforeunload),a.cb_canvas_state=(l,d,m)=>Ce(n,l,d,m);const o=a.main_canvas,s="__cpcvs__"+parseInt(Math.random()*1e4+"")+"__";return a.main_canvas_unique=s,o.classList.add(s),window.addEventListener("resize",a.e_onresize),document.addEventListener("fullscreenchange",a.e_onresize),window.addEventListener("focus",a.e_onfocus),window.addEventListener("blur",a.e_onblur),a.cstring(s)}function tn(){const e=a.main_canvas;return e.width=a.main_canvas.clientWidth,e.height=a.main_canvas.clientHeight,e.width*65536+e.height}var nn=function(e,t,n,r){if(document.getElementById("#caui_virtual_keyboard"))return 1;const o=(g,_)=>Dn(t,g,_),s=(g,_)=>ct(n,g,_),l=(g,_)=>ct(r,g,_);let d=!1;const m=document.createElement("input");m.id="caui_virtual_keyboard",m.style="position:fixed;top:0;left:0;width:100%;background:white;color:black;font-size:1.5em;box-sizing:border-box;";let v="";m.addEventListener("blur",g=>{if(d)return;const _=a.cstring(m.value);l(e,_),K(_),d=!0,m.remove()}),m.addEventListener("keyup",g=>{if(d||v==m.value)return;v=m.value;const _=a.cstring(m.value),F=o(e,_);if(K(_),F==0)return;let T=m.selectionStart;T==null&&(T=0);const me=m.value.length;v=b(F),m.value=v;const k=m.value.length;me==T||k<=T?m.setSelectionRange(k,k):m.setSelectionRange(T,T)}),m.addEventListener("keydown",g=>{if(g.key!="Enter"||d)return;const _=a.cstring(m.value);s(e,_),K(_),d=!0,m.remove()});const h=a.main_canvas.parentElement;return h&&h.className.indexOf("canvas_container")>0?h.appendChild(m):document.body.appendChild(m),m.focus(),0},se=[],rn=(e,t)=>{f(Array.isArray(se)),f(t%16==0),se.length=0;for(var n;n=x[e++];){var r=String.fromCharCode(n),o=["d","f","i","p"];o.push("j"),f(o.includes(r),`Invalid character ${n}("${r}") in readEmAsmArgs! Use only [${o}], and do not specify "v" for void return argument.`);var s=n!=105;s&=n!=112,t+=s&&t%8?4:0,se.push(n==112?w[t>>2]:n==106?re[t>>3]:n==105?D[t>>2]:ae[t>>3]),t+=s?8:4}return se},Ke=(e,t,n)=>{var r=rn(t,n);return f(it.hasOwnProperty(e),`No EM_ASM constant found at address ${e}.  The loaded WebAssembly file is likely out of sync with the generated JavaScript.`),it[e](...r)},an=(e,t,n)=>Ke(e,t,n),on=(e,t,n)=>Ke(e,t,n),sn=()=>2147483648,cn=(e,t)=>(f(t,"alignment argument is required"),Math.ceil(e/t)*t),ln=e=>{var t=$.buffer,n=(e-t.byteLength+65535)/65536|0;try{return $.grow(n),He(),1}catch(r){y(`growMemory: Attempted to grow heap from ${t.byteLength} bytes to ${e} bytes, but got error: ${r}`)}},un=e=>{var t=x.length;e>>>=0,f(e>t);var n=sn();if(e>n)return y(`Cannot enlarge memory, requested ${e} bytes, but the limit is ${n} bytes!`),!1;for(var r=1;r<=4;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var s=Math.min(n,cn(Math.max(e,o),65536)),l=ln(s);if(l)return!0}return y(`Failed to grow the heap from ${t} bytes to ${s} bytes, not enough memory!`),!1},Ee=e=>{if(e instanceof Ge||e=="unwind")return ne;O(),e instanceof WebAssembly.RuntimeError&&st()<=0&&y("Stack overflow detected.  You can try increasing -sSTACK_SIZE (currently set to 16384)"),ge(1,e)},V=0,ke=()=>Nt||V>0,dn=e=>{ne=e,ke()||(i.onExit?.(e),C=!0),ge(e,new Ge(e))},Je=(e,t)=>{if(ne=e,Yn(),ke()&&!t){var n=`program exited (with status: ${e}), but keepRuntimeAlive() is set (counter=${V}) due to an async operation, so halting execution but not exiting the runtime or preventing further async execution (you can use emscripten_force_exit, if you want to force a true shutdown)`;X(n),y(n)}dn(e)},fn=Je,Xe=()=>{if(!ke())try{fn(ne)}catch(e){Ee(e)}},Ze=e=>{if(C){y("user callback triggered after runtime exited or application aborted.  Ignoring.");return}try{e(),Xe()}catch(t){Ee(t)}},Se=(e,t)=>{if(c.timingMode=e,c.timingValue=t,!c.func)return y("emscripten_set_main_loop_timing: Cannot set timing mode for main loop since a main loop does not exist! Call emscripten_set_main_loop first to set one up."),1;if(c.running||(c.running=!0),e==0)c.scheduler=function(){var l=Math.max(0,c.tickStartTime+t-Qe())|0;setTimeout(c.runner,l)},c.method="timeout";else if(e==1)c.scheduler=function(){c.requestAnimationFrame(c.runner)},c.method="rAF";else if(e==2){if(typeof c.setImmediate>"u")if(typeof setImmediate>"u"){var n=[],r="setimmediate",o=s=>{(s.data===r||s.data.target===r)&&(s.stopPropagation(),n.shift()())};addEventListener("message",o,!0),c.setImmediate=s=>{n.push(s),j?(i.setImmediates??=[],i.setImmediates.push(s),postMessage({target:r})):postMessage(r,"*")}}else c.setImmediate=setImmediate;c.scheduler=function(){c.setImmediate(c.runner)},c.method="immediate"}return 0},c={running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],preMainLoop:[],postMainLoop:[],pause(){c.scheduler=null,c.currentlyRunningMainloop++},resume(){c.currentlyRunningMainloop++;var e=c.timingMode,t=c.timingValue,n=c.func;c.func=null,et(n,0,!1,c.arg,!0),Se(e,t),c.scheduler()},updateStatus(){if(i.setStatus){var e=i.statusMessage||"Please wait...",t=c.remainingBlockers??0,n=c.expectedBlockers??0;t?t<n?i.setStatus("{message} ({expected - remaining}/{expected})"):i.setStatus(e):i.setStatus("")}},init(){i.preMainLoop&&c.preMainLoop.push(i.preMainLoop),i.postMainLoop&&c.postMainLoop.push(i.postMainLoop)},runIter(e){if(!C){for(var t of c.preMainLoop)if(t()===!1)return;Ze(e);for(var n of c.postMainLoop)n();O()}},nextRAF:0,fakeRequestAnimationFrame(e){var t=Date.now();if(c.nextRAF===0)c.nextRAF=t+1e3/60;else for(;t+2>=c.nextRAF;)c.nextRAF+=1e3/60;var n=Math.max(c.nextRAF-t,0);setTimeout(e,n)},requestAnimationFrame(e){if(typeof requestAnimationFrame=="function"){requestAnimationFrame(e);return}var t=c.fakeRequestAnimationFrame;t(e)}},Qe=()=>performance.now(),et=(e,t,n,r,o)=>{f(!c.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),c.func=e,c.arg=r;var s=c.currentlyRunningMainloop;function l(){return s<c.currentlyRunningMainloop?(Xe(),!1):!0}if(c.running=!1,c.runner=function(){if(!C){if(c.queue.length>0){var m=Date.now(),v=c.queue.shift();if(v.func(v.arg),c.remainingBlockers){var h=c.remainingBlockers,g=h%1==0?h-1:Math.floor(h);v.counted?c.remainingBlockers=g:(g=g+.5,c.remainingBlockers=(8*h+g)/9)}if(c.updateStatus(),!l())return;setTimeout(c.runner,0);return}if(l()){if(c.currentFrameNumber=c.currentFrameNumber+1|0,c.timingMode==1&&c.timingValue>1&&c.currentFrameNumber%c.timingValue!=0){c.scheduler();return}else c.timingMode==0&&(c.tickStartTime=Qe());c.method==="timeout"&&i.ctx&&(R("Looks like you are rendering without using requestAnimationFrame for the main loop. You should use 0 for the frame rate in emscripten_set_main_loop in order to use requestAnimationFrame, as that can greatly improve your frame rates!"),c.method=""),c.runIter(e),l()&&c.scheduler()}}},o||(t>0?Se(0,1e3/t):Se(1,1),c.scheduler()),n)throw"unwind"},mn=(e,t,n)=>{var r=()=>lt(e);et(r,t,n)},cr={varargs:void 0,getStr(e){var t=b(e);return t}},_n=e=>{E("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM")},pn=9007199254740992,vn=-9007199254740992,gn=e=>e<vn||e>pn?NaN:Number(e);function yn(e,t,n,r){return t=gn(t),70}var Fe=[null,[],[]],Te=(e,t)=>{var n=Fe[e];f(n),t===0||t===10?((e===1?ee:y)(qe(n)),n.length=0):n.push(t)},hn=()=>{Rn(0),Fe[1].length&&Te(1,10),Fe[2].length&&Te(2,10)},wn=(e,t,n,r)=>{for(var o=0,s=0;s<n;s++){var l=w[t>>2],d=w[t+4>>2];t+=8;for(var m=0;m<d;m++)Te(e,x[l+m]);o+=d}return w[r>>2]=o,0},q=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},tt=(e,t,n,r)=>{if(f(typeof e=="string",`stringToUTF8Array expects a string (got ${typeof e})`),!(r>0))return 0;for(var o=n,s=n+r-1,l=0;l<e.length;++l){var d=e.charCodeAt(l);if(d>=55296&&d<=57343){var m=e.charCodeAt(++l);d=65536+((d&1023)<<10)|m&1023}if(d<=127){if(n>=s)break;t[n++]=d}else if(d<=2047){if(n+1>=s)break;t[n++]=192|d>>6,t[n++]=128|d&63}else if(d<=65535){if(n+2>=s)break;t[n++]=224|d>>12,t[n++]=128|d>>6&63,t[n++]=128|d&63}else{if(n+3>=s)break;d>1114111&&R("Invalid Unicode code point "+Y(d)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),t[n++]=240|d>>18,t[n++]=128|d>>12&63,t[n++]=128|d>>6&63,t[n++]=128|d&63}}return t[n]=0,n-o},ce=(e,t,n)=>(f(typeof n=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),tt(e,x,t,n)),le=e=>Nn(e),nt=e=>{var t=q(e)+1,n=le(t);return ce(e,n,t),n},ue=e=>{try{return e()}catch(t){E(t)}},lr=e=>{for(var t={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},n={parameters:[],results:e[0]=="v"?[]:[t[e[0]]]},r=1;r<e.length;++r)f(e[r]in t,"invalid signature char: "+e[r]),n.parameters.push(t[e[r]]);return n},bn=()=>{V+=1},En=()=>{f(V>0),V-=1},u={instrumentWasmImports(e){var t=/^(invoke_.*|__asyncjs__.*)$/;for(let[n,r]of Object.entries(e))if(typeof r=="function"){let o=r.isAsync||t.test(n);e[n]=(...s)=>{var l=u.state;try{return r(...s)}finally{var d=l===u.State.Normal&&u.state===u.State.Disabled,m=n.startsWith("invoke_")&&!0;if(u.state!==l&&!o&&!d&&!m)throw new Error(`import ${n} was not in ASYNCIFY_IMPORTS, but changed the state`)}}}},instrumentWasmExports(e){var t={};for(let[n,r]of Object.entries(e))typeof r=="function"?t[n]=(...o)=>{u.exportCallStack.push(n);try{return r(...o)}finally{if(!C){var s=u.exportCallStack.pop();f(s===n),u.maybeStopUnwind()}}}:t[n]=r;return t},State:{Normal:0,Unwinding:1,Rewinding:2,Disabled:3},state:0,StackSize:4096,currData:null,handleSleepReturnValue:0,exportCallStack:[],callStackNameToId:{},callStackIdToName:{},callStackId:0,asyncPromiseHandlers:null,sleepCallbacks:[],getCallStackId(e){var t=u.callStackNameToId[e];return t===void 0&&(t=u.callStackId++,u.callStackNameToId[e]=t,u.callStackIdToName[t]=e),t},maybeStopUnwind(){u.currData&&u.state===u.State.Unwinding&&u.exportCallStack.length===0&&(u.state=u.State.Normal,ue(jn),typeof Fibers<"u"&&Fibers.trampoline())},whenDone(){return f(u.currData,"Tried to wait for an async operation when none is in progress."),f(!u.asyncPromiseHandlers,"Cannot have multiple async operations in flight at once"),new Promise((e,t)=>{u.asyncPromiseHandlers={resolve:e,reject:t}})},allocateData(){var e=de(12+u.StackSize);return u.setDataHeader(e,e+12,u.StackSize),u.setDataRewindFunc(e),e},setDataHeader(e,t,n){w[e>>2]=t,w[e+4>>2]=t+n},setDataRewindFunc(e){var t=u.exportCallStack[0],n=u.getCallStackId(t);D[e+8>>2]=n},getDataRewindFuncName(e){var t=D[e+8>>2],n=u.callStackIdToName[t];return n},getDataRewindFunc(e){var t=S[e];return t},doRewind(e){var t=u.getDataRewindFuncName(e),n=u.getDataRewindFunc(t);return n()},handleSleep(e){if(f(u.state!==u.State.Disabled,"Asyncify cannot be done during or after the runtime exits"),!C){if(u.state===u.State.Normal){var t=!1,n=!1;e((r=0)=>{if(f(!r||typeof r=="number"||typeof r=="boolean"),!C&&(u.handleSleepReturnValue=r,t=!0,!!n)){f(!u.exportCallStack.length,"Waking up (starting to rewind) must be done from JS, without compiled code on the stack."),u.state=u.State.Rewinding,ue(()=>Wn(u.currData)),typeof c<"u"&&c.func&&c.resume();var o,s=!1;try{o=u.doRewind(u.currData)}catch(m){o=m,s=!0}var l=!1;if(!u.currData){var d=u.asyncPromiseHandlers;d&&(u.asyncPromiseHandlers=null,(s?d.reject:d.resolve)(o),l=!0)}if(s&&!l)throw o}}),n=!0,t||(u.state=u.State.Unwinding,u.currData=u.allocateData(),typeof c<"u"&&c.func&&c.pause(),ue(()=>Un(u.currData)))}else u.state===u.State.Rewinding?(u.state=u.State.Normal,ue(Bn),K(u.currData),u.currData=null,u.sleepCallbacks.forEach(Ze)):E(`invalid state: ${u.state}`);return u.handleSleepReturnValue}},handleAsync(e){return u.handleSleep(t=>{e().then(t)})}},kn=e=>{var t=i["_"+e];return f(t,"Cannot call unknown function "+e+", make sure it is exported"),t},Sn=(e,t)=>{f(e.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)"),L.set(e,t)},rt=(e,t,n,r,o)=>{var s={string:k=>{var J=0;return k!=null&&k!==0&&(J=nt(k)),J},array:k=>{var J=le(k.length);return Sn(k,J),J}};function l(k){return t==="string"?b(k):t==="boolean"?!!k:k}var d=kn(e),m=[],v=0;if(f(t!=="array",'Return type should not be "array".'),r)for(var h=0;h<r.length;h++){var g=s[n[h]];g?(v===0&&(v=Ot()),m[h]=g(r[h])):m[h]=r[h]}var _=u.currData,F=d(...m);function T(k){return En(),v!==0&&Dt(v),l(k)}var me=o?.async;return bn(),u.currData!=_?(f(!(_&&u.currData),"We cannot start an async operation when one is already flight"),f(!(_&&!u.currData),"We cannot stop an async operation in flight"),f(me,"The call to "+e+" is running asynchronously. If this was intended, add the async option to the ccall/cwrap call."),u.whenDone().then(T)):(F=T(F),me?Promise.resolve(F):F)},Fn=(e,t,n,r)=>(...o)=>rt(e,t,n,o,r),Tn=(e,t,n)=>{var r=n>0?n:q(e)+1,o=new Array(r),s=tt(e,o,0,o.length);return t&&(o.length=s),o},An=0,Cn=1,xn=(e,t)=>{var n;return f(typeof t=="number","allocate no longer takes a type argument"),f(typeof e!="number","allocate no longer takes a number as arg0"),t==Cn?n=le(e.length):n=de(e.length),!e.subarray&&!e.slice&&(e=new Uint8Array(e)),x.set(e,n),n},at=e=>{var t=q(e)+1,n=de(t);return n&&ce(e,n,t),n};i.requestAnimationFrame=c.requestAnimationFrame,i.pauseMainLoop=c.pause,i.resumeMainLoop=c.resume,c.init();function In(){yt("fetchSettings")}var it={27224:(e,t,n)=>{console.log("r1x:"+e),console.log("r2x:"+t),console.log("r2y:"+n)},27300:e=>{console.log("matriz pre resolve:"),console.log(b(e))},27371:e=>{console.log("matriz"),console.log(b(e))},27429:(e,t,n)=>{console.log(t,n,e)},27456:e=>{const t=document.getElementById("bar");t.style.display="block",Array.from(t.querySelectorAll("button")).forEach((n,r)=>{r<8&&n.addEventListener("click",()=>{rt("set_current_tool",null,["number","number"],[e,r])})})},27701:()=>{for(;;){let e=prompt("Intensidade da for\xE7a (N)").replace(",",".");try{return parseFloat(e)}catch{}}},27825:e=>{document.title=b(e)},27864:e=>{const t=b(e);try{navigator.clipboard.writeText(t).then(()=>{},()=>{console.warn("error: cant copy - no permission")})}catch(n){console.warn("error: cant copy - catched:"),console.warn(n)}},28082:()=>navigator.getGamepads!=null?1:0,28135:e=>{console.warn("EXIT CODE: "+e)},28171:e=>{const t=b(e),n=document.body.querySelector(t);if(n==null||n.getContext==null)return console.warn(`cant find "${t}"`),-1;const r=n.getContext("2d");if(r==null)return-1;window.cgl_c2d==null&&(window.cgl_c2d=[]);const o=window.cgl_c2d.length;let s=Object();return s.canvas=n,s.ctx=r,window.cgl_c2d[o]=s,o},28610:(e,t)=>{window.cgl_c2d[e].ctx.font=`${parseInt(t)}px serif`},28671:(e,t,n,r)=>{const o=window.cgl_c2d[e].ctx;o.direction=["ltr","rtl","inherit"][t],o.textAlign=["left","right","center","start","end"][n],o.textBaseline=["top","middle","bottom"][r]},28873:(e,t,n,r,o,s,l,d,m)=>{const v=window.cgl_c2d[e].ctx;v.fillStyle=`rgb(${parseInt(t*255)},${parseInt(n*255)},${parseInt(r*255)},${o})`,v.strokeStyle=`rgb(${parseInt(s*255)},${parseInt(l*255)},${parseInt(d*255)},${m})`},29095:(e,t,n)=>{const r=window.cgl_c2d[e].ctx;r.lineWidth=t,r.lineDashOffset=n},29180:(e,t,n)=>{const r=window.cgl_c2d[e].ctx;r.lineCap=["butt","round","square"][t],r.lineJoin=["miter","round","bevel"][n]},29315:(e,t,n)=>{const r=window.cgl_c2d[e].canvas;r.width=t,r.height=n},29399:e=>{window.cgl_c2d[e].ctx.beginPath()},29439:e=>{window.cgl_c2d[e].ctx.clip()},29474:e=>{window.cgl_c2d[e].ctx.closePath()},29514:(e,t,n)=>{window.cgl_c2d[e].ctx.moveTo(t,n)},29556:(e,t,n)=>{window.cgl_c2d[e].ctx.lineTo(t,n)},29598:e=>{window.cgl_c2d[e].ctx.fill()},29633:e=>{window.cgl_c2d[e].ctx.stroke()},29670:(e,t,n,r,o)=>{window.cgl_c2d[e].ctx.fillText(b(t),n,r,o||void 0)},29749:(e,t,n,r,o)=>{window.cgl_c2d[e].ctx.strokeText(b(t),n,r,o||void 0)},29830:(e,t,n,r,o)=>{window.cgl_c2d[e].ctx.clearRect(t,n,r,o)},29882:(e,t,n,r,o)=>{window.cgl_c2d[e].ctx.fillRect(t,n,r,o)},29933:(e,t,n,r,o)=>{window.cgl_c2d[e].ctx.strokeRect(t,n,r,o)},29986:(e,t,n,r,o,s,l)=>{window.cgl_c2d[e].ctx.arc(t,n,r,o,s,l!=0)},30042:(e,t,n,r,o,s)=>{window.cgl_c2d[e].ctx.arcTo(t,n,r,o,s)},30094:(e,t,n,r,o,s,l)=>{window.cgl_c2d[e].ctx.bezierCurveTo(t,n,r,o,s,l)},30157:(e,t,n,r,o,s,l,d,m)=>{window.cgl_c2d[e].ctx.bezierCurveTo(t,n,r,o,s,l,d,m!=0)},30230:e=>{window.cgl_c2d[e].ctx.save()},30265:e=>{window.cgl_c2d[e].ctx.restore()},30303:(e,t,n)=>{window.cgl_c2d[e].ctx.translate(t,n)},30348:(e,t,n)=>{window.cgl_c2d[e].ctx.scale(t,n)},30389:(e,t)=>{window.cgl_c2d[e].ctx.rotate(t)},30428:e=>{window.cgl_c2d[e]=void 0},30464:e=>{console.log(b(e))},30496:e=>{console.warn(b(e))},30529:e=>{console.error(b(e))}},Ae={__assert_fail:Ut,__cxa_throw:$t,_abort_js:Ht,caui_clip_get:Gt,caui_guess_mobile:zt,caui_inputs_end:Yt,caui_inputs_init:Vt,caui_inputs_mouse_capture:qt,caui_joystick_end:Kt,caui_joystick_init:Jt,caui_joystick_update:Xt,caui_release:Zt,caui_set_immersion:Qt,caui_setup:en,caui_setup_size:tn,caui_virtual_keyboard:nn,emscripten_asm_const_double:an,emscripten_asm_const_int:on,emscripten_resize_heap:un,emscripten_set_main_loop:mn,fd_close:_n,fd_seek:yn,fd_write:wn},S=await Rt(),ur=p("__wasm_call_ctors",0),dr=i._set_current_tool=p("set_current_tool",2),Ln=i._main=p("__main_argc_argv",2),K=p("free",1),Rn=p("fflush",1),fr=p("strerror",1),de=p("malloc",1),Mn=S.emscripten_stack_init,mr=S.emscripten_stack_get_free,_r=S.emscripten_stack_get_base,ot=S.emscripten_stack_get_end,Pn=S._emscripten_stack_restore,Nn=S._emscripten_stack_alloc,st=S.emscripten_stack_get_current,pr=i.dynCall_ii=p("dynCall_ii",2),fe=i.dynCall_vi=p("dynCall_vi",2),Ce=i.dynCall_viii=p("dynCall_viii",4),ct=i.dynCall_vii=p("dynCall_vii",3),vr=i.dynCall_viiiii=p("dynCall_viiiii",6),lt=i.dynCall_v=p("dynCall_v",1),ut=i.dynCall_vff=p("dynCall_vff",3),Dn=i.dynCall_iii=p("dynCall_iii",3),On=i.dynCall_viiii=p("dynCall_viiii",5),gr=i.dynCall_fii=p("dynCall_fii",3),yr=i.dynCall_fiii=p("dynCall_fiii",4),hr=i.dynCall_viiif=p("dynCall_viiif",5),wr=i.dynCall_viifffi=p("dynCall_viifffi",7),br=i.dynCall_viiifffi=p("dynCall_viiifffi",8),Er=i.dynCall_vif=p("dynCall_vif",3),kr=i.dynCall_iiii=p("dynCall_iiii",4),Sr=i.dynCall_jiji=p("dynCall_jiji",4),Fr=i.dynCall_iidiiii=p("dynCall_iidiiii",7),Tr=i.dynCall_viiiiii=p("dynCall_viiiiii",7),Un=p("asyncify_start_unwind",1),jn=p("asyncify_stop_unwind",0),Wn=p("asyncify_start_rewind",1),Bn=p("asyncify_stop_rewind",0);i.cwrap=Fn,i.UTF8ToString=b,i.stringToUTF8=ce,i.lengthBytesUTF8=q,i.intArrayFromString=Tn,i.stringToNewUTF8=at,i.ALLOC_NORMAL=An,i.allocate=xn;var $n=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","getTempRet0","setTempRet0","zeroMemory","strError","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","emscriptenLog","runMainThreadEmAsm","jstoi_q","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","asmjsMangle","asyncLoad","mmapAlloc","HandleAllocator","getNativeTypeSize","addOnInit","addOnPostCtor","addOnPreMain","addOnExit","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","uleb128Encode","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","initRandomFill","randomFill","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","findMatchingCatch","Browser_asyncPrepareDataCounter","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","FS_unlink","FS_createDataFile","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","emscriptenWebGLGetBufferBinding","emscriptenWebGLValidateMapBufferTarget","writeGLArray","registerWebGlEventCallback","emscriptenWebGLGetIndexed","webgl_enable_WEBGL_draw_instanced_base_vertex_base_instance","webgl_enable_WEBGL_multi_draw_instanced_base_vertex_base_instance","writeStringToMemory","writeAsciiToMemory","demangle","stackTrace"];$n.forEach(ht);var Hn=["run","addRunDependency","removeRunDependency","out","err","callMain","abort","wasmMemory","wasmExports","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","stackAlloc","ptrToString","exitJS","getHeapMax","growMemory","ENV","ERRNO_CODES","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","jstoi_s","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","alignMemory","wasmTable","noExitRuntime","addOnPreRun","addOnPostRun","getCFunc","ccall","sigToWasmTypes","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","stringToUTF8Array","UTF16Decoder","stringToUTF8OnStack","writeArrayToMemory","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","flush_NO_FILESYSTEM","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","Browser","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS_createPath","FS_createDevice","FS_readFile","FS","FS_createLazyFile","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","runAndAbortIfError","Asyncify","Fibers","SDL","SDL_gfx","ALLOC_STACK","allocateUTF8","allocateUTF8OnStack","print","printErr","cfsidb","cffetch","cn_au","caui"];Hn.forEach(Be);var dt;function Gn(e=[]){f(P==0,'cannot call main when async dependencies remain! (listen on Module["onRuntimeInitialized"])'),f(typeof oe>"u"||oe.length==0,"cannot call main when preRun functions remain to be called");var t=Ln;e.unshift(ve);var n=e.length,r=le((n+1)*4),o=r;e.forEach(l=>{w[o>>2]=nt(l),o+=4}),w[o>>2]=0;try{var s=t(n,r);return Je(s,!0),s}catch(l){return Ee(l)}}function zn(){Mn(),gt()}function xe(e=pe){if(P>0){G=xe;return}if(zn(),wt(),P>0){G=xe;return}function t(){if(f(!dt),dt=!0,i.calledRun=!0,!C){bt(),Et(),Re(i),i.onRuntimeInitialized?.(),ie("onRuntimeInitialized");var n=i.noInitialRun;M("noInitialRun","noInitialRun"),n||Gn(e),kt()}}i.setStatus?(i.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>i.setStatus(""),1),t()},1)):t(),O()}function Yn(){var e=ee,t=y,n=!1;ee=y=r=>{n=!0};try{hn()}catch{}ee=e,y=t,n&&(R("stdio streams had content in them that was not flushed. you should set EXIT_RUNTIME to 1 (see the Emscripten FAQ), or make sure to emit a newline when you printf etc."),R("(this may also be due to not including full filesystem support - try building with -sFORCE_FILESYSTEM)"))}if(i.preInit)for(typeof i.preInit=="function"&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();ie("preInit"),xe(),Le=ft;for(const e of Object.keys(i))e in _e||Object.defineProperty(_e,e,{configurable:!0,get(){E(`Access to module property ('${e}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return Le}})();export default Vn;
